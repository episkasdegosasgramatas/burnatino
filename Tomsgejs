<html lang="lv">
██████╔╝██████╔╝█████╗ ██║ ██║██████╔╝█████╗
██╔═══╝ ██╔══██╗██╔══╝ ██║ ██║██╔══██╗██╔══╝
██║ ██║ ██║███████╗ ██████╔╝██║ ██║███████╗
╚═╝ ╚═╝ ╚═╝╚══════╝ ╚═════╝ ╚═╝ ╚═╝╚══════╝
</pre>
<div>** ANONĪMAIS BBS TERMINĀLIS **</div>
</header>


<main style="padding:15px;">
<p>Laipni lūgts piekļūt Ziņojumu Dēlim (BBS). Ievieto izdomātus stāstus. Bez reālām personām.</p>


<div style="margin-top:20px;border:1px solid #0f0;padding:10px;">
<div>[POST A MESSAGE]</div>
<form id="postForm" onsubmit="return handleSubmit(event)">
<textarea id="content" style="width:100%;height:120px;background:#000;color:#0f0;border:1px solid #0f0;" placeholder="Ierakstiet ziņu..."></textarea>
<button type="submit" style="margin-top:10px;background:#000;color:#0f0;border:1px solid #0f0;padding:5px 10px;">POST</button>
</form>
</div>


<pre id="mdPreview" style="white-space:pre-wrap;"></pre>
<button id="copyBtn" style="background:#000;color:#0f0;border:1px solid #0f0;padding:5px 10px;margin-top:10px;">COPY</button>
</div>
<div id="messageBoard" style="margin-top:25px;"></div>
</main>


<script>
// --- Simple BBS storage (local only, cannot edit old posts) ---
let messages = JSON.parse(localStorage.getItem('bbs_messages') || '[]');


function escapeHtml(s){
return s.replaceAll('&','&amp;')
.replaceAll('<','&lt;')
.replaceAll('>','&gt;');
}


// Handle new post
function handleSubmit(e){
e.preventDefault();
const content = document.getElementById('content').value.trim();
if (!content) return false;


const safe = escapeHtml(content);
const timestamp = new Date().toLocaleString();


// Store message permanently (non‑editable)
messages.push({ text: safe, time: timestamp });


// Refresh board display
renderBoard();
localStorage.setItem('bbs_messages', JSON.stringify(messages));


// Clear textarea
document.getElementById('content').value = "";


return false;
}


function renderBoard(){(){
const board = document.getElementById('messageBoard');
board.innerHTML = "";


messages.forEach((msg, i) => {
const block = document.createElement('div');
block.style.border = '1px solid #0f0';
block.style.padding = '10px';
block.style.marginTop = '10px';
block.innerHTML = `<div>[MSG #${i+1}] — ${msg.time}</div><pre style="white-space:pre-wrap;">${msg.text}</pre>`;
board.appendChild(block);
});
}
</script>
</body>
</html>
